# План реализации

- [x] 1. Создать хук для отслеживания прогресса головоломок

  - Создать файл `src/hooks/useProgressTracking.ts`
  - Реализовать логику проверки существующего прогресса в категории
  - Добавить функцию для определения, завершена ли головоломка
  - Реализовать создание нового прогресса через POST /progress API
  - Реализовать обновление существующего прогресса через PATCH /progress/{id} API
  - Добавить базовую обработку ошибок с try-catch
  - _Требования: 1.1, 1.2, 2.1, 2.2, 3.1, 3.2_

- [x] 2. Интегрировать отслеживание прогресса в компонент PuzzleSolver

  - Импортировать и инициализировать хук `useProgressTracking` в `src/pages/PuzzleSolver/PuzzleSolver.tsx`
  - Использовать hardcoded userId для тестирования (можно получить из существующей системы позже)
  - Определить categoryId из параметров URL
  - Вызывать функцию отслеживания прогресса при успешном завершении головоломки в функции `handleComplete`
  - _Требования: 1.3, 4.1, 4.2, 4.3_

- [x] 3. Обновить логику отображения статуса головоломок в PuzzleCategory

  - Модифицировать функцию `getPuzzleState` в `src/pages/PuzzleCategory/utils.ts`
  - Заменить текущую логику (первые 2 пройденные, 3-4 открытые, остальные закрытые) на реальную проверку прогресса
  - Использовать данные из Redux store для определения завершенных головоломок
  - Реализовать последовательную разблокировку: головоломка доступна только если предыдущая завершена
  - Первая головоломка всегда доступна, остальные заблокированы до прохождения предыдущих
  - _Требования: 3.3, 4.4_

- [x] 4. Загружать прогресс при входе на страницу категории
  - Добавить загрузку прогресса в компонент `PuzzleCategory` при монтировании
  - Использовать существующий хук `useProgress` для получения данных прогресса по категории
  - Обеспечить, что статус головоломок обновляется при изменении прогресса
  - _Требования: 1.3, 4.1, 4.2_
